<div class="row">
  <div class="col-lg-12">
    <section class="panel">
      <header class="panel-heading">
        <h3>Configurations</h3>
      </header>
      <div style="margin-top: 30px; margin-right: 2">
        
        <alert type="danger" dismissible="true" *ngIf="errorUpdate">
            <strong>Erreur!</strong> Une erreur s'est produite lors de mise à jour.
        </alert>
        <alert type="success" dismissible="true" *ngIf="configUpdated">
            <strong>Succées !</strong> La mise à jour est effectué avec succés.
        </alert>
    </div>
      <div class="panel-content">
        <div class="panel panel-info" style="width: 45%; display: inline-block;">
          <div class="panel-heading">
            <h5>Alerte d'expiration du produit avant </h5>
          </div>
          <div class="panel-content" style="margin-top: 10px; margin-left: 5px; margin-right: 5px;">
            <table style="width: 100%;">
              <tr>
                <td>
              <strong>{{config[0].expiration}} jours</strong> 
              
              </td>
              <td style="float: right;">
              <button  tooltip="Modifier" (click)="openExpirationModal(updatetemplate1)" class="btn btn-success"><i
                  class="icon_pencil-edit_alt"></i></button>
          </td>
          </tr>
          </table>
          </div>
        </div>

        <div class="panel panel-info" style="width: 45%; display: inline-block; margin-left:20px;">
            <div class="panel-heading">
              <h5>Seuil minimum du quantité </h5>
            </div>
            <div class="panel-content" style="margin-top: 10px; margin-left: 5px; margin-right: 5px;">
              <table style="width: 100%;">
                <tr>
                  <td>
                <strong >{{config[0].seuil_qte}} pieces</strong> 
                <!-- <strong *ngIf="!config[0]">0 pieces</strong> -->
                </td>
                <td style="float: right;">
                <button  tooltip="Modifier" (click)="openSeuilModal(updatetemplate2)" class="btn btn-success"><i
                    class="icon_pencil-edit_alt"></i></button>
            </td>
            </tr>
            </table>
            </div>
          </div>
      </div>
    </section>
  </div>
</div>

<ng-template #updatetemplate1>
    <form class="form-horizontal " method="get">
        <div class="modal-header">
            <h3 class="modal-title pull-left">Modification de configuration de l'alerte d'expiration de produit</h3>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="col-sm-3 control-label">Nombre de jours </label>
                <div class="col-sm-9">
                    <input type="number" class="form-control" [(ngModel)]="expiration"
                    [ngModelOptions]="{standalone: true}">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-success pull-left" (click)="updateExpiration()">Modifier</button>
            <button type="button" class="btn btn-danger" (click)="modalRef.hide()">Annuler</button>

        </div>
    </form>
</ng-template>

<ng-template #updatetemplate2>
    <form class="form-horizontal " method="get">
        <div class="modal-header">
            <h3 class="modal-title pull-left">Modification de configuration de seuil minimum de quantité</h3>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="col-sm-3 control-label">Nombre de piéce </label>
                <div class="col-sm-9">
                    <input type="number" class="form-control" [(ngModel)]="seuil_qte"
                    [ngModelOptions]="{standalone: true}">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-success pull-left" (click)="updateQteSeuil()">Modifier</button>
            <button type="button" class="btn btn-danger" (click)="modalRef.hide()">Annuler</button>

        </div>
    </form>
</ng-template>